<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auto Ancillaries DataTable</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style/dataTable.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="http://bootswatch.com/cosmo/bootstrap.min.css">
</head>
<body>
    <center>
    <h1 class="text-primary" id="top">Auto Ancillaries Contact Details</h1>
    <div class="container"></div>

    <script type="text/html" id='table'>
        <table id='example' class='container table table-hover table-striped'>
            <thead>
                <tr>
                    <th>company_name</th>
                    <th>city</th>
                    <th>state</th>
                    <th>pin_code</th>
                    <th>company_type</th>
                    <th>contact_number</th>
                    <th>company_website</th>
                </tr>
            </thead>
            <tbody>
                <% _.each(temp, function(row){ %>
                <tr>
                    <td><%= row.company_name %></td>
                    <td><%= row.city %></td>
                    <td><%= row.state %></td>
                    <td><%= row.pin_code %></td>
                    <td><%= row.company_type %></td>
                    <td><%= row.contact_number %></td>
                    <td><%= row.company_website %></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    </script>
    </br>
    <a href="#top" class="col-md-12" ><u>Back to Top</u></a>
    </br></br>
    <script type="text/javascript" src="script/d3.v4.min.js"></script>
    <script type="text/javascript" src="script/jquery.min.js"></script>
    <script type="text/javascript" src="script/underscore-min.js"></script>
    <script type="text/javascript" src="script/DT.bootstrap.min.js"></script>
    <script type="text/javascript" src="script/jquery.DT.min.js"></script>
    <script>
        d3.csv('AutoAncillaryContactDetails.csv', function(data) {
            // Gets the table html from the script
            var mytable = $('#table').html()

            // Compile the table into underscore template
            var compiled_mytable = _.template(mytable)

            // Pass the data as an object to the template
            var result = compiled_mytable({temp: data})

            // Appending the created
            $('.container').append(result)

            $(document).ready(function() {
            $('table#example').DataTable({
                "sPaginationType": "full_numbers"
            });
            //$("#example_info").detach().prependTo('#example_wrapper');
            //$("table#example_paginate").detach().prependTo('#example_wrapper');
            } );
        })
    </script>
</body>
</html>
